{% extends "template/baseAdmin.twig" %}
{% block content %}
    <h4>Objetos</h4>
    <a href="{{ path_for('object.create') }}">Agregar nuevo.</a>
    <div class="ed-container">
        <ul class="collapsible ed-item s-100" data-collapsible="accordion">
            {% for o in objects %}
            <li>
                <div class="collapsible-header">{{ o.titulo }} <span class="badge">
                        <a href="{{ path_for('object.delete', {'id' : o.id }) }}">Eliminar</a> - <a href="{{ path_for('object.show', {'id' : o.id }) }}">Editar</a></span></div>
                <div class="collapsible-body">
                    <h5>Datos basicos</h5>
                    <table>
                        <thead>
                            <tr>
                                <td>Descripcion</td>
                                <td>Adjunto</td>
                                <td>Licencia</td>
                                <td>Tags</td>
                                <td># de descargas</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{ o.descripcion }}</td>
                                <td>{{ o.adjunto }}</td>
                                <td>{{ getNameLicence(o.licencia) }}</td>
                                <td>{{ o.tags }}</td>
                                <td>{{ o.descargas }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <h5>Datos tecnicos</h5>
                    <table>
                        <thead>
                            <tr>
                                <td>Formato</td>
                                <td>Instrucciones</td>
                                <td>Requerimientos</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{ getNameFormat(o.objeto_tecnhincal.formato) }}</td>
                                <td>{{ o.objeto_tecnhincal.instrucciones }}</td>
                                <td>{{ o.objeto_tecnhincal.requerimientos }}</td>
                            </tr>
                        </tbody>
                    </table>
                    <h5>Datos ciclo de vida</h5>
                    <table>
                        <thead>
                            <tr>
                                <td>Autor</td>
                                <td>Entidad</td>
                                <td>Version</td>
                                <td>Fecha</td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>{{ o.objeto_cycle.autor }}</td>
                                <td>{{ o.objeto_cycle.entidad }}</td>
                                <td>{{ o.objeto_cycle.version }}</td>
                                <td>{{ o.objeto_cycle.fecha }}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </li>  
            {% endfor %}
         </ul>
    </div>
{% endblock %}